# Canvas Visualization Guide

This guide explains how to use and customize the Canvas visualization automatically generated by plan-with-obsidian.

## Table of Contents

- [Overview](#overview)
- [Canvas Structure](#canvas-structure)
- [Use Cases](#use-cases)
- [Customizing Canvas](#customizing-canvas)
- [Advanced Usage](#advanced-usage)
- [Best Practices](#best-practices)
- [Common Questions](#common-questions)

## Overview

Each project planning session automatically creates a `Task Title - Overview.canvas` file providing a visual view of the project structure.

## Canvas Structure

### Node Types

**1. Project Goal Node (Purple text node)**
- Location: Top center
- Content: Project goals and success metrics
- Purpose: Understand what the project aims to achieve at a glance

**2. Document File Nodes (Colored file nodes)**
- Task Plan (Red) - Main planning document
- Findings (Yellow) - Research findings
- Progress (Blue) - Progress tracking
- Purpose: Click to directly open corresponding documents

**3. Phase Nodes (Gray text nodes)**
- Phase 1-5: 5-phase workflow
- Shows status and task checklist
- Purpose: Track project progress

**4. Supporting Information Nodes**
- Current Status (Blue)
- Key Information (Yellow)
- Tech Stack/Architecture Design (Other colors)

### Connection Edges

Connection edges show relationships between nodes:
- Solid arrows: Process direction
- With labels: Describe relationship type ("defines", "executes", "after completion", etc.)

## Use Cases

### 1. Project Overview

Open the Canvas file to quickly understand:
- What are the project goals
- What phase are we in
- What to do next
- Relationships between documents

### 2. Progress Reporting

During stand-ups or reviews:
- Show Canvas to explain current progress
- Highlight current phase node
- Point to completed tasks
- Display next steps

### 3. Team Collaboration

Help team members understand:
- Overall project architecture
- Dependencies between phases
- Where to find relevant documents
- Current key decisions and technology choices

### 4. Knowledge Management

As part of the project knowledge graph:
- Connect to Canvas from other related projects
- Embed architecture diagrams in Canvas
- Create decision trees and flowcharts
- Build cross-project knowledge networks

## Customizing Canvas

### Update Phase Status

As the project progresses, update phase nodes:

**In-progress phase:**
- Modify text: `**Status**: üîÑ In Progress`
- Change color: Yellow (color: "4")

**Completed phase:**
- Modify text: `**Status**: ‚úÖ Completed`
- Change color: Green (color: "5")

### Add New Nodes

Add nodes as needed:

**Architecture Design Node:**
```json
{
  "id": "architecture",
  "type": "text",
  "x": -400,
  "y": 800,
  "width": 500,
  "height": 260,
  "color": "6",
  "text": "# üèóÔ∏è System Architecture\n\n[Describe system architecture design]"
}
```

**Decision Record Node:**
```json
{
  "id": "key-decisions",
  "type": "text",
  "x": 200,
  "y": 800,
  "width": 500,
  "height": 260,
  "color": "3",
  "text": "# üí° Key Decisions\n\n| Decision | Rationale |\n|----------|----------|\n| ... | ... |"
}
```

**External Document Link Node:**
```json
{
  "id": "external-doc",
  "type": "link",
  "url": "https://example.com/docs",
  "x": 100,
  "y": 600,
  "width": 300,
  "height": 100,
  "color": "1"
}
```

### Add Connection Edges

Connect new nodes:

```json
{
  "id": "unique-edge-id",
  "fromNode": "source-node-id",
  "fromSide": "bottom",
  "toNode": "target-node-id",
  "toSide": "top",
  "label": "Relationship description"
}
```

**fromSide/toSide options:**
- `"top"` - Top of node
- `"bottom"` - Bottom of node
- `"left"` - Left side of node
- `"right"` - Right side of node

### Adjust Layout

Adjust node positions and sizes based on content:

**Position adjustment (x, y):**
- x: Horizontal position (left ‚Üí right increases)
- y: Vertical position (top ‚Üí bottom increases)
- Recommended spacing: 400-600 pixels

**Size adjustment (width, height):**
- width: Node width (recommended 280-500)
- height: Node height (recommended 120-300)
- Adjust based on content length

### Color Scheme

Obsidian Canvas supported colors:

| Number | Color | Suggested Use |
|--------|-------|--------------|
| "1" | Red | Task Plan, important notes |
| "2" | Gray | Pending phases |
| "3" | Yellow | Findings, key information |
| "4" | Yellow | In-progress phases |
| "5" | Blue/Green | Progress, completed phases |
| "6" | Purple | Project goals, architecture design |

## Advanced Usage

### Embed Other Canvas

Embed other Canvas files in nodes:

```json
{
  "id": "nested-canvas",
  "type": "file",
  "file": "Planning/Detailed Architecture.canvas",
  "x": 0,
  "y": 1000,
  "width": 600,
  "height": 400
}
```

### Group Nodes

Create node groups using the group type:

```json
{
  "id": "phase-group",
  "type": "group",
  "x": -700,
  "y": 350,
  "width": 2000,
  "height": 400,
  "label": "Execution Phases"
}
```

### Z-Index Layering

Control node stacking order:

```json
{
  "id": "background-node",
  "type": "text",
  "x": 0,
  "y": 0,
  "width": 200,
  "height": 100,
  "text": "Background",
  "zIndex": -1
}
```

## Best Practices

### 1. Keep It Concise

- Don't add too many nodes (recommended 10-15)
- Use large nodes for important info, small nodes for secondary info
- Use colors to highlight key points
- Keep text concise, avoid verbose descriptions

### 2. Optimize Layout to Avoid Overlap

**Key Principle: Whitespace is important**

**Recommended Node Spacing:**
- **Horizontal spacing**: 600 pixels (between phase nodes)
- **Vertical spacing**: 500 pixels (between layers)
- **Node sizes**:
  - Small nodes: 350√ó140 (file nodes)
  - Medium nodes: 380√ó350 (phase nodes)
  - Large nodes: 480-700√ó200-340 (important info)

**Recommended Layout:**
```
Layer 1 (y=-400): Project goal (centered)
Layer 2 (y=0):    Three document file nodes (horizontal, spacing 600)
Layer 3 (y=500):  Five phase nodes (horizontal, spacing 600)
Layer 4 (y=1100): Four supporting info nodes (horizontal)
```

**Problems to Avoid:**
- ‚ùå Overlapping nodes obscure content
- ‚ùå Crossing connection lines create confusion
- ‚ùå Spacing too small makes reading difficult
- ‚úÖ Ample whitespace, clear hierarchy
- ‚úÖ Vertical alignment, visual comfort

### 3. Use Connection Edges Wisely

- Top: Goals and overview
- Middle: Documents and processes
- Bottom: Detailed information and technical details
- Left/Right: Parallel relationships or contrasts
- **Simplify labels**: Only use arrows "‚Üí" for phase transitions
- **Reduce crossings**: Make connection lines as vertical or horizontal as possible
- **Avoid redundancy**: Not all nodes need connections

### 4. Update Regularly

- Update status promptly after completing phases
- Add new decisions to key information nodes
- Mark all phases as complete when project ends

### 5. Cross-Project Linking

- Use wikilinks to link to Canvas from other projects
- Create project overview Canvas connecting all sub-projects
- Reference related documents and resources in Canvas

## Common Questions

### Q: File nodes can't open documents?

A: Check that file paths are correct:
- Paths relative to vault root
- Format: `Planning/Task Title - Task Plan.md`
- Don't include `.` or `/` prefix

### Q: How to export Canvas?

A: Canvas files are JSON format, you can:
- Copy the `.canvas` file directly
- Screenshot export in Obsidian
- Use Obsidian's export functionality

### Q: Can I edit on mobile devices?

A: Yes, the Obsidian mobile app supports viewing and editing Canvas files.

### Q: How to backup Canvas?

A: Canvas files are stored in the vault and backed up with the vault.

## Related Resources

- [Obsidian Canvas Official Documentation](https://help.obsidian.md/Plugins/Canvas)
- [JSON Canvas Specification](https://jsoncanvas.org/)
- `json-canvas` skill - Dedicated skill for creating and editing Canvas files
